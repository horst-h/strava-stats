<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" href="images/logo.png">
    <title>Athlete goal setting and statistics</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <header>
      <img src="images/logo.png" width="40" alt="App Logo" />
      <span><b>Athlete Goals & Statistics</b></span>
    </header>
    <main>
      <div id="config-form-container" style="display: none">
        <h2>Enter OAuth Configuration</h2>
        <form id="config-form">
          <label for="clientId">Client ID:</label>
          <input
            type="text"
            id="clientId"
            name="clientId"
            required
          /><br /><br />
          <label for="clientSecret">Client Secret:</label>
          <input
            type="password"
            id="clientSecret"
            name="clientSecret"
            required
          /><br /><br />
          <label for="refreshToken">Refresh Token:</label>
          <input
            type="text"
            id="refreshToken"
            name="refreshToken"
            required
          /><br /><br />
          <button type="submit">Save and Continue</button>
        </form>
      </div>
      <div id="buttonContainer" style="display: flex; gap: 10px">
        <button id="get-protected-data" style="display: none">
          Get live Data
        </button>
        <button id="save-data-to-file" style="display: none">
          Save data to file
        </button>
        <button id="load-data-from-file" style="display: none">
          Load data form file
        </button>
      </div>
      <p id="api-response">API Response will be displayed here.</p>
      <p id="token-info">No Token Info Yet</p>

      <!-- Div to display the running stats -->
      <div id="athleteStats">
        YTD Running Distance:
        <span class="data_value" id="run_ytd_run_totals">...</span><br />
        YTD Number of runs:
        <span class="data_value" id="run_ytd_run_count">...</span><br />
        Weeks left: <span class="data_value" id="weeks_left">...</span><br />
        <div id="statsAndForecast">
            Avg dist per week:
            <span class="data_value" id="avg_dist_per_week">...</span><br />
            Avg number of runs per week:
            <span class="data_value" id="avg_runs_per_week">...</span><br />
            Avg distance per run:
            <span class="data_value" id="avg_dist_per_run">...</span><br />
            <div id="target-not-yet-reached">
                Target reachable:
                <span class="data_value" id="target_reachable">...</span>,
                <span class="data_value" id="target_differnce"> </span> to victory<br />
                Target approximately reached in
                <span class="data_value" id="weeksToTarget"></span> weeks on
                <span class="data_value" id="targetDate">...</span><br />
            </div>
            <div id="target-reached" style="display: none">
                Target of <span class="data_value" id="target_reached">...</span> reached<br />
            </div>
            Forecast of
            <span class="data_value" id="forecast_distance">...</span> with
            <span class="data_value" id="floor_avg_runs_per_week"></span>runs per
            week with a minimum distance of
            <span class="data_value" id="floor_avg_dist_per_week"></span> per
            week.<br />
            Resulting in a total of
            <span class="data_value" id="runs_till_eoy"></span> runs this year<br />
        </div>
        <div id="notEnoughData" hidden="true">
            Not enough data for statistics and proper forecast.
        </div>
      </div>
    </main>
    <footer>
      <p class="small_text">
        <span
          >Powered by Strava
          <img src="images/strava-seeklogo.svg" width="12" alt="App Logo" /> &
          GitHub Pages</span
        >
      </p>
    </footer>
    <!-- JavaScript files 
    <script src="js/utils/storage.js"></script>
    <script src="js/oauth/config.js"></script>
    <script src="js/oauth/oauth.js"></script>
    -->
    <script type="module" src="js/app/app.js"></script>
    <!-- <script src="js/app/chart.js"></script> -->
  </body>
</html>
